(this["webpackJsonptrading-system"]=this["webpackJsonptrading-system"]||[]).push([[0],{190:function(e,t,n){},191:function(e,t,n){},201:function(e,t){},203:function(e,t){},456:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(47),i=n.n(r),o=(n(190),n(191),n(192),n(62)),l=n(52),u=n(182),s=n(7),d=n.n(s),h=n(131),f=n(114),b=n.n(f),m="CRO/USDT",p=function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new b.a.huobipro,"binance",n=b.a.binance,new n({apiKey:"YOUR_API_KEY",secret:"YOUR_SECRET",timeout:3e4,enableRateLimit:!0}),t.id,e.next=7,t.loadMarkets();case 7:return a=e.sent,a[m],e.next=11,t.fetchOHLCV(m);case 11:return e.sent,e.abrupt("return",{tradingPairs:Object.keys(a)});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,a,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"1d",a=new b.a.huobipro,e.next=4,a.fetchOHLCV(t,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var v=n(133),O=function(e){var t=new Date(e);return"".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate())};function x(e,t){for(var n=[],a=0,c=t.length;a<c;a++)if(a<e)n.push("-");else{for(var r=0,i=0;i<e;i++)r+=t[a-i][1];n.push((r/e).toFixed(4))}return n}var y,g=function(e){var t=e.data,n=e.tradingPair,a=e.timeframe,c=void 0===a?"1d":a,r=e.pastCount,i=void 0===r?30:r,o=e.originIndex,l=void 0===o?t.length-1:o,u=[],s=[],d=[];t.forEach((function(e){var t=O(e[0]);s.push(e[0]),d.push(t),u.push([e[1],e[4],e[3],e[2]])}));var h,f,b=function(e,t){var n=[],a=[],c=[],r=[],i=Object(v.a)(e).reverse(),o=i[0],l=Number(((o[3]+o[2])/2).toFixed(4));o[0],o[1],o[2],o[3],i.slice(1).forEach((function(e,t){var c=Number(((e[3]+e[2])/2).toFixed(4));r.push(c);var i=Number((2*l-e[1]).toFixed(4)),o=Number((2*l-e[0]).toFixed(4)),u=Number((2*l-e[3]).toFixed(4)),s=Number((2*l-e[2]).toFixed(4)),d=Number((2*l-c).toFixed(4));a.push(d),n.push([i,o,u,s])}));var u=Object(v.a)(t).reverse(),s=u[0];return u.slice(1).forEach((function(e,t){c.push(O(2*s-e))})),{futureData:n,futureAverageData:a,futureDates:c}}(u.slice(l-i,l+1),s.slice(l-i,l+1)),m=b.futureData,p=b.futureDates,j=b.futureAverageData,y=function(e){return e.map((function(){return["-","-","-","-"]}))},g=function(e){return e.map((function(){return"-"}))},w="".concat(n," ").concat(c),S=u,C=x(5,u),F=x(10,u),A=x(20,u),M=x(30,u),k=u.length-1-l;if(k>0){var P=u.slice(0,l+1);if(k<i){var D=u.length,N=(h=y(P).concat(m)).slice(D),E=g(h.slice(D));S=S.concat(y(N)),C=C.concat(E),F=F.concat(E),A=A.concat(E),M=M.concat(E),f=g(P).concat(j)}else if(k>i){var I=u.slice(l+i+1);h=y(P).concat(m).concat(y(I)),f=g(P).concat(j).concat(g(I))}else h=y(P).concat(m),f=g(P).concat(m)}else{S=u.concat(y(m));var L=g(m);C=C.concat(L),F=F.concat(L),A=A.concat(L),M=M.concat(L),h=y(u).concat(m),f=g(u).concat(j)}return{legend:{data:[w,"Future","Future-average","MA5","MA10","MA20","MA30"]},tooltip:{trigger:"axis",axisPointer:{animation:!1,type:"cross",lineStyle:{color:"#376df4",width:2,opacity:1}}},xAxis:{type:"category",data:d.concat(p),axisLine:{lineStyle:{color:"#8392A5"}}},yAxis:{scale:!0,axisLine:{lineStyle:{color:"#8392A5"}},splitLine:{show:!1}},grid:{bottom:80},dataZoom:[{textStyle:{color:"#8392A5"},handleIcon:"path://M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",dataBackground:{areaStyle:{color:"#8392A5"},lineStyle:{opacity:.8,color:"#8392A5"}},start:80},{type:"inside"}],series:[{type:"candlestick",name:w,data:S,itemStyle:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}},{name:"Future",type:"candlestick",data:h,showAllSymbol:!0,itemStyle:{normal:{color:"#ddd",color0:"#ddd",borderColor:"#ddd",borderColor0:"#ddd"}}},{name:"Future-average",type:"line",data:f,smooth:!0,showSymbol:!1,itemStyle:{color:"#000"},lineStyle:{width:1,color:"#ccc"}},{name:"MA5",type:"line",data:C,smooth:!0,showSymbol:!1,lineStyle:{width:1}},{name:"MA10",type:"line",data:F,smooth:!0,showSymbol:!1,lineStyle:{width:1}},{name:"MA20",type:"line",data:A,smooth:!0,showSymbol:!1,lineStyle:{width:1}},{name:"MA30",type:"line",data:M,smooth:!0,showSymbol:!1,lineStyle:{width:1}}]}},w=n(20);!function(e){e.candlestick="candlestick",e.line="line"}(y||(y={}));var S=function(e){var t=e.config,n=t.tradingPair,c=t.timeframe,r=t.pastCount,i=Object(a.useRef)(),o=function(e,t){var n=Object(a.useState)(null),c=Object(l.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(null),u=Object(l.a)(o,2),s=u[0],d=u[1],h=Object(a.useState)(!1),f=Object(l.a)(h,2),b=f[0],m=f[1];return[Object(a.useCallback)((function(){return m(!0),e.apply(void 0,arguments).then((function(e){return e&&i(e),e})).catch((function(e){var n;return console.error(e),d(e||"error ocurred in useAsyncCall hook"),null===t||void 0===t||null===(n=t.onFailed)||void 0===n||n.call(t,e),e})).finally((function(){m(!1)}))}),[e,t]),{result:r,error:s,loading:b}]}(j),s=Object(l.a)(o,2),d=s[0],h=s[1].result;return Object(a.useEffect)((function(){d(n,c)}),[d,c,n]),Object(a.useEffect)((function(){var e;if(h&&i.current){var t="".concat(n," ").concat(c),a=g({data:h,tradingPair:n,timeframe:c,pastCount:r});i.current.setOption(a),null===(e=i.current)||void 0===e||e.on("click",(function(e){if(e.componentSubType===y.candlestick&&e.seriesName===t){var a;console.log(e.data[0]);var r=g({data:h,tradingPair:n,timeframe:c,pastCount:100,originIndex:e.data[0]});null===(a=i.current)||void 0===a||a.setOption(r)}}))}}),[r,h,c,n]),Object(w.jsx)("div",{id:"kline",style:{width:"100%",height:"100vh"},ref:function(e){e&&(i.current=u.a(e))}})},C=(n(177),n(110)),F=(n(459),n(183)),A=(n(457),n(73)),M=(n(458),n(115)),k=M.a.Option,P={labelCol:{span:8},wrapperCol:{span:16}},D={wrapperCol:{offset:8,span:16}},N=function(e){var t=e.onChange,n=e.config,c=Object(a.useState)(),r=Object(l.a)(c,2),i=r[0],u=r[1];return Object(a.useEffect)((function(){p().then((function(e){var t=e.tradingPairs;u(t)}))}),[]),Object(w.jsx)("div",{className:"w-370 py-32 px-md",children:Object(w.jsxs)(A.a,Object(o.a)(Object(o.a)({},P),{},{name:"basic",initialValues:n,onFinish:function(e){t(e)},onFinishFailed:function(e){},children:[Object(w.jsx)(A.a.Item,{label:"Trading Pair",name:"tradingPair",children:Object(w.jsx)(M.a,{showSearch:!0,style:{width:200},placeholder:"Select a person",optionFilterProp:"children",filterOption:function(e,t){return(null===t||void 0===t?void 0:t.children.toLowerCase().indexOf(e.toLowerCase()))>=0},children:null===i||void 0===i?void 0:i.map((function(e){return Object(w.jsx)(k,{value:e,children:e},e)}))})}),Object(w.jsx)(A.a.Item,{label:"Time frame",name:"timeframe",children:Object(w.jsxs)(M.a,{showSearch:!0,style:{width:200},placeholder:"Select a person",optionFilterProp:"children",children:[Object(w.jsx)(k,{value:"1d",children:"1d"},"1d"),Object(w.jsx)(k,{value:"1m",children:"1m"},"1m"),Object(w.jsx)(k,{value:"5m",children:"5m"},"5m"),Object(w.jsx)(k,{value:"15m",children:"15m"},"15m"),Object(w.jsx)(k,{value:"30m",children:"30m"},"30m"),Object(w.jsx)(k,{value:"1w",children:"1w"},"1w"),Object(w.jsx)(k,{value:"1M",children:"1M"},"1M"),Object(w.jsx)(k,{value:"1H",children:"1H"},"1H")]})}),Object(w.jsx)(A.a.Item,{label:"Past count",name:"pastCount",children:Object(w.jsx)(F.a,{type:"number"})}),Object(w.jsx)(A.a.Item,Object(o.a)(Object(o.a)({},D),{},{children:Object(w.jsx)(C.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))})},E={tradingPair:"CRO/USDT",timeframe:"1d",pastCount:100},I=function(){var e=Object(a.useState)(E),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(w.jsxs)("div",{className:"flex",children:[Object(w.jsx)(N,{config:n,onChange:function(e){c(Object(o.a)(Object(o.a)({},n),e))}}),Object(w.jsx)("div",{className:"flex-1",children:Object(w.jsx)(S,{config:n})})]})};var L=function(){return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(I,{})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,465)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(L,{})}),document.getElementById("root")),T()}},[[456,1,2]]]);
//# sourceMappingURL=main.8960df6c.chunk.js.map