(this["webpackJsonptrading-system"]=this["webpackJsonptrading-system"]||[]).push([[0],{192:function(e,t,n){},193:function(e,t,n){},203:function(e,t){},205:function(e,t){},458:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(48),i=n.n(c),o=(n(192),n(193),n(194),n(62)),u=n(31),l=n(82),s=n(178),d=n(179);new(function(){function e(t,n){var a=this;Object(s.a)(this,e),this.baseURI=void 0,this.requestInit=void 0,this.get=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,c=void 0===r?a.baseURI:r,i=new URL(c+t);return i.search=new URLSearchParams(n).toString(),e.fetch(i.toString(),a.requestInit,r)},this.post=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,c=void 0===r?a.baseURI:r,i=c+t,o=Object.assign({},a.requestInit,{body:JSON.stringify(n)});return e.fetch(i,o,r)},this.baseURI=n,this.requestInit=t}return Object(d.a)(e,null,[{key:"fetch",value:function(e){function t(t,n,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,n){return fetch(e,t).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)}))}))}]),e}())({headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}},Object({NODE_ENV:"production",PUBLIC_URL:"/trading-system",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL||"");var f=n(7),h=n.n(f),b=n(132),m=n(115),j=n.n(m),p="CRO/USDT",v=function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new j.a.huobipro,"binance",n=j.a.binance,new n({apiKey:"YOUR_API_KEY",secret:"YOUR_SECRET",timeout:3e4,enableRateLimit:!0}),t.id,e.next=7,t.loadMarkets();case 7:return a=e.sent,a[p],e.next=11,t.fetchOHLCV(p);case 11:return e.sent,e.abrupt("return",{tradingPairs:Object.keys(a)});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"1d",a=new j.a.huobipro,e.next=4,a.fetchOHLCV(t,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=n(184),y=function(e){var t=new Date(e);return"".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate())};function x(e,t){for(var n=[],a=0,r=t.length;a<r;a++)if(a<e)n.push("-");else{for(var c=0,i=0;i<e;i++)c+=t[a-i][1];n.push((c/e).toFixed(4))}return n}var S,C=function(e){var t=e.data,n=e.tradingPair,a=e.timeframe,r=void 0===a?"1d":a,c=e.pastCount,i=void 0===c?30:c,o=e.originIndex,u=void 0===o?t.length-1:o,s=[],d=[],f=[];t.forEach((function(e){var t=y(e[0]);d.push(e[0]),f.push(t),s.push([e[1],e[4],e[3],e[2]])}));var h,b,m=function(e,t){var n=[],a=[],r=[],c=[],i=Object(l.a)(e).reverse(),o=i[0],u=Number(((o[3]+o[2])/2).toFixed(4));o[0],o[1],o[2],o[3],i.slice(1).forEach((function(e,t){var r=Number(((e[3]+e[2])/2).toFixed(4));c.push(r);var i=Number((2*u-e[1]).toFixed(4)),o=Number((2*u-e[0]).toFixed(4)),l=Number((2*u-e[3]).toFixed(4)),s=Number((2*u-e[2]).toFixed(4)),d=Number((2*u-r).toFixed(4));a.push(d),n.push([i,o,l,s])}));var s=Object(l.a)(t).reverse(),d=s[0];return s.slice(1).forEach((function(e,t){r.push(y(2*d-e))})),{futureData:n,futureAverageData:a,futureDates:r}}(s.slice(u-i,u+1),d.slice(u-i,u+1)),j=m.futureData,p=m.futureDates,v=m.futureAverageData,O=function(e){return e.map((function(){return["-","-","-","-"]}))},g=function(e){return e.map((function(){return"-"}))},S="".concat(n," ").concat(r),C=s,w=x(5,s),F=x(10,s),A=x(20,s),P=x(30,s),k=s.length-1-u;if(k>0){var I=s.slice(0,u+1);if(k<i){var R=s.length,E=(h=O(I).concat(j)).slice(R),M=g(h.slice(R));C=C.concat(O(E)),w=w.concat(M),F=F.concat(M),A=A.concat(M),P=P.concat(M),b=g(I).concat(v)}else if(k>i){var T=s.slice(u+i+1);h=O(I).concat(j).concat(O(T)),b=g(I).concat(v).concat(g(T))}else h=O(I).concat(j),b=g(I).concat(j)}else{C=s.concat(O(j));var D=g(j);w=w.concat(D),F=F.concat(D),A=A.concat(D),P=P.concat(D),h=O(s).concat(j),b=g(s).concat(v)}return{legend:{data:[S,"Future","Future-average","MA5","MA10","MA20","MA30"]},tooltip:{trigger:"axis",axisPointer:{animation:!1,type:"cross",lineStyle:{color:"#376df4",width:2,opacity:1}}},xAxis:{type:"category",data:f.concat(p),axisLine:{lineStyle:{color:"#8392A5"}}},yAxis:{scale:!0,axisLine:{lineStyle:{color:"#8392A5"}},splitLine:{show:!1}},grid:{bottom:80},dataZoom:[{textStyle:{color:"#8392A5"},handleIcon:"path://M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",dataBackground:{areaStyle:{color:"#8392A5"},lineStyle:{opacity:.8,color:"#8392A5"}},start:80},{type:"inside"}],series:[{type:"candlestick",name:S,data:C,itemStyle:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}},{name:"Future",type:"candlestick",data:h,showAllSymbol:!0,itemStyle:{normal:{color:"#ddd",color0:"#ddd",borderColor:"#ddd",borderColor0:"#ddd"}}},{name:"Future-average",type:"line",data:b,smooth:!0,showSymbol:!1,itemStyle:{color:"#000"},lineStyle:{width:1,color:"#ccc"}},{name:"MA5",type:"line",data:w,smooth:!0,showSymbol:!1,lineStyle:{width:1}},{name:"MA10",type:"line",data:F,smooth:!0,showSymbol:!1,lineStyle:{width:1}},{name:"MA20",type:"line",data:A,smooth:!0,showSymbol:!1,lineStyle:{width:1}},{name:"MA30",type:"line",data:P,smooth:!0,showSymbol:!1,lineStyle:{width:1}}]}},w=n(20);!function(e){e.candlestick="candlestick",e.line="line"}(S||(S={}));var F=function(e){var t=e.config,n=t.tradingPair,r=t.timeframe,c=t.pastCount,i=e.data,o=e.loading,u=Object(a.useRef)(),l=Object(a.useMemo)((function(){return"".concat(n," ").concat(r)}),[r,n]),s=Object(a.useCallback)((function(e){var t=this,n=t.data,a=t.tradingPair,r=t.timeframe,c=t.pastCount,i=t.seriesName;if(e.componentSubType===S.candlestick&&e.seriesName===i){var o,l=C({data:n,tradingPair:a,timeframe:r,pastCount:c,originIndex:e.data[0]});null===(o=u.current)||void 0===o||o.setOption(l)}}),[]);return Object(a.useEffect)((function(){if(i&&u.current&&!o){var e=C({data:i,tradingPair:n,timeframe:r,pastCount:c});u.current.setOption(e)}}),[i,s,o,c,r,n]),Object(a.useEffect)((function(){var e,t;null===(e=u.current)||void 0===e||e.off("click",s),null===(t=u.current)||void 0===t||t.on("click",s,{data:i,tradingPair:n,timeframe:r,pastCount:c,seriesName:l})}),[i,s,c,l,r,n]),Object(w.jsx)("div",{id:"kline",style:{width:"100%",height:"100vh"},ref:function(e){e&&(u.current=g.a(e))}})},A=(n(177),n(111)),P=(n(461),n(185)),k=(n(459),n(73)),I=(n(460),n(116)),R=I.a.Option,E={labelCol:{span:8},wrapperCol:{span:16}},M={wrapperCol:{offset:8,span:16}},T=function(e){var t=e.onChange,n=e.config,r=e.loading,c=Object(a.useState)(),i=Object(u.a)(c,2),l=i[0],s=i[1];return Object(a.useEffect)((function(){v().then((function(e){var t=e.tradingPairs;s(t)}))}),[]),Object(w.jsx)("div",{className:"w-370 py-32 px-md",children:Object(w.jsxs)(k.a,Object(o.a)(Object(o.a)({},E),{},{name:"basic",initialValues:n,onFinish:function(e){t(e)},onFinishFailed:function(e){},children:[Object(w.jsx)(k.a.Item,{label:"Trading Pair",name:"tradingPair",children:Object(w.jsx)(I.a,{showSearch:!0,style:{width:200},placeholder:"Select a person",optionFilterProp:"children",filterOption:function(e,t){return(null===t||void 0===t?void 0:t.children.toLowerCase().indexOf(e.toLowerCase()))>=0},children:null===l||void 0===l?void 0:l.map((function(e){return Object(w.jsx)(R,{value:e,children:e},e)}))})}),Object(w.jsx)(k.a.Item,{label:"Time frame",name:"timeframe",children:Object(w.jsxs)(I.a,{showSearch:!0,style:{width:200},placeholder:"Select a person",optionFilterProp:"children",children:[Object(w.jsx)(R,{value:"1d",children:"1d"},"1d"),Object(w.jsx)(R,{value:"1m",children:"1m"},"1m"),Object(w.jsx)(R,{value:"5m",children:"5m"},"5m"),Object(w.jsx)(R,{value:"15m",children:"15m"},"15m"),Object(w.jsx)(R,{value:"30m",children:"30m"},"30m"),Object(w.jsx)(R,{value:"1w",children:"1w"},"1w"),Object(w.jsx)(R,{value:"1M",children:"1M"},"1M"),Object(w.jsx)(R,{value:"1H",children:"1H"},"1H")]})}),Object(w.jsx)(k.a.Item,{label:"Past count",name:"pastCount",children:Object(w.jsx)(P.a,{type:"number"})}),Object(w.jsx)(k.a.Item,Object(o.a)(Object(o.a)({},M),{},{children:Object(w.jsx)(A.a,{type:"primary",htmlType:"submit",loading:r,children:"Submit"})}))]}))})},D={tradingPair:"CRO/USDT",timeframe:"1d",pastCount:100},N=function(){var e=Object(a.useState)(D),t=Object(u.a)(e,2),n=t[0],r=t[1],c=function(e,t){var n=Object(a.useState)(t),r=Object(u.a)(n,1)[0],c=Object(a.useState)(null),i=Object(u.a)(c,2),o=i[0],s=i[1],d=Object(a.useState)(null),f=Object(u.a)(d,2),h=f[0],b=f[1],m=Object(a.useState)(!0),j=Object(u.a)(m,2),p=j[0],v=j[1],O=Object(a.useCallback)((function(){for(var t=r||{},n=t.onFailed,a=t.onCompleted,c=t.params,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];var d=o||[c];return e.apply(void 0,Object(l.a)(d)).then((function(e){return e&&s(e),null===a||void 0===a||a(e),e})).catch((function(e){return console.error(e),b(e||"error ocurred in useImmediatelyCall hook"),null===n||void 0===n||n(e),e})).finally((function(){v(!1)}))}),[e,r]);return Object(a.useEffect)((function(){O()}),[O]),{result:o,error:h,loading:p,refetch:O}}(Object(a.useCallback)((function(){return O(D.tradingPair,D.timeframe)}),[])).result,i=function(e,t){var n=Object(a.useState)(null),r=Object(u.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(null),l=Object(u.a)(o,2),s=l[0],d=l[1],f=Object(a.useState)(!1),h=Object(u.a)(f,2),b=h[0],m=h[1];return[Object(a.useCallback)((function(){return m(!0),e.apply(void 0,arguments).then((function(e){return e&&i(e),e})).catch((function(e){var n;return console.error(e),d(e||"error ocurred in useAsyncCall hook"),null===t||void 0===t||null===(n=t.onFailed)||void 0===n||n.call(t,e),e})).finally((function(){m(!1)}))}),[e,t]),{result:c,error:s,loading:b}]}(O),s=Object(u.a)(i,2),d=s[0],f=s[1],h=f.result,b=f.loading;return Object(w.jsxs)("div",{className:"flex",children:[Object(w.jsx)(T,{config:n,onChange:function(e){var t=Object(o.a)(Object(o.a)({},n),e),a=t.timeframe,c=t.tradingPair;r(t),d(c,a)},loading:b}),Object(w.jsx)("div",{className:"flex-1",children:Object(w.jsx)(F,{config:n,data:h||c,loading:b})})]})};var L=function(){return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(N,{})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,467)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(L,{})}),document.getElementById("root")),_()}},[[458,1,2]]]);
//# sourceMappingURL=main.d825fd42.chunk.js.map